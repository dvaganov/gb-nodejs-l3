'use strict';

const urlutils = require('url');

class Router {
    constructor() {
        this.routes = {};
    }

    route(uri, method) {
        let params = urlutils.parse(uri, true);
        let pathname = params.pathname;

        if (!this.routes[pathname]) {
            throw new Error('Path is not find');
        }

        this.routes[pathname].query = params.query;

        return this.routes[pathname];
    }
}

module.exports = Router;
